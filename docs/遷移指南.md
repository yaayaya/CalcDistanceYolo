# ğŸ”„ ç›®éŒ„é‡çµ„é·ç§»æŒ‡å—

æœ¬æŒ‡å—èªªæ˜å¦‚ä½•å¾èˆŠçš„ç›®éŒ„çµæ§‹é·ç§»åˆ°æ–°çš„çµæ§‹ã€‚

## å¿«é€Ÿæ‘˜è¦

å°ˆæ¡ˆç›®éŒ„å·²é‡çµ„ç‚ºæ›´æ¸…æ™°çš„çµæ§‹:

```
èˆŠçµæ§‹ (æ ¹ç›®éŒ„é›œäº‚)        â†’    æ–°çµæ§‹ (åˆ†é¡æ¸…æ™°)
â”œâ”€â”€ app/                   â†’    â”œâ”€â”€ backend/app/
â”œâ”€â”€ admin/                 â†’    â”œâ”€â”€ frontend/
â”œâ”€â”€ åŸºæœ¬åµæ¸¬/               â†’    â”œâ”€â”€ tools/åŸºæœ¬åµæ¸¬/
â”œâ”€â”€ main.py                â†’    â”œâ”€â”€ backend/main.py
â”œâ”€â”€ config.json            â†’    â”œâ”€â”€ backend/config.json
â”œâ”€â”€ sensor_config.json     â†’    â”œâ”€â”€ backend/sensor_config.json
â”œâ”€â”€ configs/               â†’    â”œâ”€â”€ backend/configs/
â”œâ”€â”€ README.md (è©³ç´°)       â†’    â”œâ”€â”€ docs/åŸå§‹README.md
â”œâ”€â”€ yolo11n.pt (å¦‚æœæœ‰)     â†’    â”œâ”€â”€ models/yolo11n.pt
â””â”€â”€ ...                    â†’    â”œâ”€â”€ README.md (ç°¡æ½”ç‰ˆ)
                                â”œâ”€â”€ run.py (æ–°å¢å•Ÿå‹•è…³æœ¬)
                                â””â”€â”€ docs/ (æ–‡ä»¶ç›®éŒ„)
```

## å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨èˆŠç‰ˆæœ¬

### æ­¥é©Ÿ 1: å‚™ä»½æ‚¨çš„è‡ªè¨‚è¨­å®š

```powershell
# å‚™ä»½é‡è¦çš„è¨­å®šæª”
Copy-Item sensor_config.json sensor_config.backup.json
Copy-Item configs\network_config.json configs\network_config.backup.json
```

### æ­¥é©Ÿ 2: æ‹‰å–æœ€æ–°ç¨‹å¼ç¢¼

```powershell
git pull origin BasicBackend
```

### æ­¥é©Ÿ 3: æ¢å¾©æ‚¨çš„è‡ªè¨‚è¨­å®š

```powershell
# å¦‚æœæ‚¨æœ‰è‡ªè¨‚çš„ sensor_config.json
Copy-Item sensor_config.backup.json backend\sensor_config.json

# å¦‚æœæ‚¨æœ‰è‡ªè¨‚çš„ network_config.json
Copy-Item configs\network_config.backup.json backend\configs\network_config.json
```

### æ­¥é©Ÿ 4: ç¢ºèªæ¨¡å‹æª”æ¡ˆä½ç½®

```powershell
# æª¢æŸ¥æ¨¡å‹æ˜¯å¦åœ¨æ­£ç¢ºä½ç½®
if (Test-Path "models\yolo11n.pt") {
    Write-Host "âœ… æ¨¡å‹æª”æ¡ˆä½ç½®æ­£ç¢º"
} else {
    Write-Host "âš ï¸  è«‹ç¢ºèªæ¨¡å‹æª”æ¡ˆæ˜¯å¦å­˜åœ¨"
}
```

### æ­¥é©Ÿ 5: ä½¿ç”¨æ–°çš„å•Ÿå‹•æ–¹å¼

```powershell
# æ–¹å¼ 1: ä½¿ç”¨å•Ÿå‹•è…³æœ¬ (æ¨è–¦)
python run.py

# æ–¹å¼ 2: é€²å…¥ backend ç›®éŒ„
cd backend
python main.py
```

## å•Ÿå‹•æ–¹å¼è®Šæ›´

### âŒ èˆŠæ–¹å¼

```powershell
# ç›´æ¥åœ¨æ ¹ç›®éŒ„åŸ·è¡Œ
python main.py
```

### âœ… æ–°æ–¹å¼

```powershell
# æ–¹å¼ 1: ä½¿ç”¨å•Ÿå‹•è…³æœ¬ (æœ€æ–¹ä¾¿)
python run.py

# æ–¹å¼ 2: é€²å…¥ backend ç›®éŒ„
cd backend
python main.py

# æ–¹å¼ 3: ä½¿ç”¨ uvicorn
cd backend
uvicorn main:app --reload
```

## æ ¡æº–å·¥å…·ä½¿ç”¨è®Šæ›´

### âŒ èˆŠæ–¹å¼

```powershell
cd åŸºæœ¬åµæ¸¬
python camera_test_gui_v2.py
```

### âœ… æ–°æ–¹å¼

```powershell
cd tools\åŸºæœ¬åµæ¸¬
python camera_test_gui_v2.py
```

**æ³¨æ„:** GUI å·¥å…·ä»ç„¶æœƒä¿®æ”¹ `backend/sensor_config.json`,ä½ç½®å·²è‡ªå‹•æ›´æ–°ã€‚

## ç¨‹å¼ç¢¼è®Šæ›´æ‘˜è¦

å¦‚æœæ‚¨æœ‰è‡ªå·±çš„ä¿®æ”¹,è«‹æ³¨æ„ä»¥ä¸‹è®Šæ›´:

### 1. backend/main.py

```python
# èˆŠ: admin è³‡æ–™å¤¾åœ¨æ ¹ç›®éŒ„
app.mount("/admin", StaticFiles(directory="admin", html=True), name="admin")

# æ–°: admin è³‡æ–™å¤¾æ”¹åç‚º frontend ä¸¦ç§»åˆ°ä¸Šå±¤
app.mount("/admin", StaticFiles(directory="../frontend", html=True), name="admin")
```

### 2. backend/app/utils/config_loader.py

```python
# æ–°å¢äº†å° models/ ç›®éŒ„çš„æ”¯æ´
model_path = BASE_DIR.parent / "models" / model_filename
```

æ¨¡å‹æª”æ¡ˆæœå°‹é †åº:
1. `models/yolo11n.pt` (æ¨è–¦ä½ç½®)
2. `backend/yolo11n.pt` (å…¼å®¹èˆŠä½ç½®)
3. `tools/åŸºæœ¬åµæ¸¬/yolo11n.pt` (å…¼å®¹èˆŠä½ç½®)

## å¸¸è¦‹å•é¡Œ

### Q: æˆ‘çš„è‡ªè¨‚è¨­å®šæœƒéºå¤±å—?

**A:** ä¸æœƒã€‚è¨­å®šæª”åªæ˜¯ç§»å‹•ä½ç½®:
- `sensor_config.json` â†’ `backend/sensor_config.json`
- `configs/network_config.json` â†’ `backend/configs/network_config.json`

å¦‚æœæ‚¨åœ¨æ‹‰å–ç¨‹å¼ç¢¼å‰å‚™ä»½äº†è¨­å®š,æ¢å¾©åˆ°æ–°ä½ç½®å³å¯ã€‚

### Q: èˆŠçš„å•Ÿå‹•æ–¹å¼é‚„èƒ½ç”¨å—?

**A:** å¦‚æœæ‚¨ç›´æ¥é€²å…¥ `backend/` ç›®éŒ„åŸ·è¡Œ `python main.py`,ä»ç„¶å¯ä»¥ä½¿ç”¨ã€‚ä½†æˆ‘å€‘å»ºè­°ä½¿ç”¨æ–°çš„ `run.py` è…³æœ¬,å®ƒæœƒè‡ªå‹•è™•ç†è·¯å¾‘å•é¡Œã€‚

### Q: æ¨¡å‹æª”æ¡ˆæ”¾åœ¨å“ªè£¡?

**A:** æ¨è–¦æ”¾åœ¨ `models/yolo11n.pt`ã€‚å¦‚æœæ‚¨å·²ç¶“æœ‰æ¨¡å‹åœ¨å…¶ä»–ä½ç½®,ç¨‹å¼ç¢¼æœ‰å…¼å®¹æ€§æ”¯æ´,ä»å¯æ­£å¸¸é‹ä½œã€‚

### Q: å¾Œå°ç®¡ç†ä»‹é¢é‚„èƒ½å­˜å–å—?

**A:** å¯ä»¥,ä»ç„¶æ˜¯ http://localhost:8000/adminã€‚åªæ˜¯æª”æ¡ˆä½ç½®å¾ `admin/` ç§»åˆ°äº† `frontend/`ã€‚

### Q: æˆ‘éœ€è¦é‡æ–°å®‰è£ä¾è³´å¥—ä»¶å—?

**A:** ä¸éœ€è¦ã€‚`requirements.txt` æ²’æœ‰è®Šæ›´ã€‚

### Q: Git æœƒè¿½è¹¤è¨­å®šæª”å—?

**A:** `.gitignore` å·²è¨­å®šå¿½ç•¥:
- `*.pt` (æ¨¡å‹æª”æ¡ˆ)
- `config.json`
- `sensor_config.json`
- `configs/*.json`

é€™äº›æª”æ¡ˆä¸æœƒè¢« Git è¿½è¹¤,æ‚¨çš„è‡ªè¨‚è¨­å®šä¸æœƒè¢«æäº¤ã€‚

## æª¢æŸ¥æ¸…å–®

å®Œæˆé·ç§»å¾Œ,è«‹ç¢ºèª:

- [ ] èƒ½å¤ æˆåŠŸå•Ÿå‹•æœå‹™ (`python run.py`)
- [ ] å¾Œå°ç®¡ç†ä»‹é¢å¯ä»¥å­˜å– (http://localhost:8000/admin)
- [ ] API æ–‡ä»¶å¯ä»¥å­˜å– (http://localhost:8000/docs)
- [ ] æ”å½±æ©Ÿåµæ¸¬æ­£å¸¸é‹ä½œ
- [ ] WebSocket é€£ç·šæ­£å¸¸
- [ ] æ‚¨çš„è‡ªè¨‚è¨­å®šä»ç„¶ç”Ÿæ•ˆ

## éœ€è¦å”åŠ©?

å¦‚æœé‡åˆ°å•é¡Œ,è«‹æª¢æŸ¥:

1. **æª”æ¡ˆä½ç½®**: ç¢ºèªæ‰€æœ‰æª”æ¡ˆéƒ½åœ¨æ­£ç¢ºçš„ç›®éŒ„
2. **å·¥ä½œç›®éŒ„**: ä½¿ç”¨ `run.py` å•Ÿå‹•,å®ƒæœƒè‡ªå‹•åˆ‡æ›åˆ°æ­£ç¢ºç›®éŒ„
3. **æ¨¡å‹æª”æ¡ˆ**: ç¢ºèª `models/yolo11n.pt` å­˜åœ¨
4. **è¨­å®šæª”**: ç¢ºèª `backend/sensor_config.json` å’Œ `backend/configs/network_config.json` å­˜åœ¨

è©³ç´°çš„å°ˆæ¡ˆçµæ§‹èªªæ˜è«‹åƒè€ƒ [docs/å°ˆæ¡ˆçµæ§‹.md](å°ˆæ¡ˆçµæ§‹.md)

---

**æ–‡ä»¶å»ºç«‹æ—¥æœŸ:** 2025-11-08
